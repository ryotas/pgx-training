{"paragraphs":[{"text":"%md\n## Getting started\nThe sample data, and some config files, are available from Ryota's GitHub pgx-training repository under the c360/2019-05-06 directory.\nPGX is part of the supported Big Data Spatial and Graph or Database Spatial and Graph releases and included in those downloads.\nLoad the C360 sample data. Let's assume the pgx-training repository was downloaded to ~/Examples/pgx-training-master. ","user":"anonymous","dateUpdated":"2019-05-10T15:56:10+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Getting started</h2>\n<p>The sample data, and some config files, are available from Ryota&rsquo;s GitHub pgx-training repository under the c360/2019-05-06 directory.<br/>PGX is part of the supported Big Data Spatial and Graph or Database Spatial and Graph releases and included in those downloads.<br/>Load the C360 sample data. Let&rsquo;s assume the pgx-training repository was downloaded to ~/Examples/pgx-training-master. </p>\n</div>"}]},"apps":[],"jobName":"paragraph_1557477138954_-639066253","id":"20190329-123523_1871171899","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:56:10+0000","dateFinished":"2019-05-10T15:56:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:747"},{"text":"g = session.readGraphWithProperties(\"property_graph/pgx/graphs/c360/all.pgx.json\")","user":"anonymous","dateUpdated":"2019-05-10T15:56:13+0000","config":{"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true,"editorSetting":{"language":"text","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"PgxGraph[name=customer 360_2,N=15,E=24,created=1557502015808]"}]},"apps":[],"jobName":"paragraph_1557477138963_-630217029","id":"20190402-164753_989376579","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:56:14+0000","dateFinished":"2019-05-10T15:56:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:748"},{"text":"// Show all properties about the account \"xxx-yyy-202\"\n\ng.queryPgql(\"\"\"\n  SELECT ID(a), a.account_no, a.balance\n  MATCH (a)\n  WHERE a.type = 'account'\n    AND a.account_no = 'xxx-yyy-202'\n\"\"\");","user":"anonymous","dateUpdated":"2019-05-10T15:56:21+0000","config":{"colWidth":12,"editorMode":"ace/mode/text","results":{"0":{"graph":{"mode":"table","height":84,"optionOpen":false}}},"enabled":true,"editorSetting":{"language":"text","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"ID(a)\ta.account_no\ta.balance\n202\txxx-yyy-202\t200"}]},"apps":[],"jobName":"paragraph_1557477138964_-632140773","id":"20190329-144320_280072223","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:56:21+0000","dateFinished":"2019-05-10T15:56:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:749"},{"text":"// Show any related information about the account \"xxx-yyy-202\"\n\ng.queryPgql(\"\"\"\n  SELECT a.account_no, LABEL(e), n.type\n  MATCH (a)-[e]-(n)\n  WHERE a.type = 'account'\n    AND a.account_no = 'xxx-yyy-202'\n  ORDER BY LABEL(e)\n\"\"\");","user":"anonymous","dateUpdated":"2019-05-10T15:56:29+0000","config":{"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true,"editorSetting":{"language":"text","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"a.account_no\tLABEL(e)\tn.type\nxxx-yyy-202\towned_by\tcustomer\nxxx-yyy-202\tpurchased\tmerchant\nxxx-yyy-202\tpurchased\tmerchant\nxxx-yyy-202\tpurchased\tmerchant\nxxx-yyy-202\ttransfer\taccount\nxxx-yyy-202\ttransfer\taccount\nxxx-yyy-202\ttransfer\taccount\nxxx-yyy-202\ttransfer\taccount\nxxx-yyy-202\ttransfer\taccount"}]},"apps":[],"jobName":"paragraph_1557477138964_-632140773","id":"20190329-124705_669100399","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:56:29+0000","dateFinished":"2019-05-10T15:56:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:750"},{"text":"%md\n## Pattern Matching\nFind accounts that had an inbound and an outbound transfer, of over 500, on the same day. The PGQL query for this is:","user":"anonymous","dateUpdated":"2019-05-10T10:44:59+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Pattern Matching</h2>\n<p>Find accounts that had an inbound and an outbound transfer, of over 500, on the same day. The PGQL query for this is:</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1557477138965_-632525522","id":"20190329-123650_1595618116","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T10:44:59+0000","dateFinished":"2019-05-10T10:45:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:751"},{"text":"// Show account which has inbound transfer and outbound transfer on the same day and their amount are both more than 500.\n\ng.queryPgql(\"\"\"\n  SELECT a.account_no, a.balance, t1.amount, t2.amount, t1.date\n  MATCH (a)<-[t1:transfer]-(a1)\n      , (a)-[t2:transfer]->(a2)\n  WHERE t1.date = t2.date\n    AND t1.amount > 500\n    AND t2.amount > 500\n    AND a.balance < 300\n\"\"\");","user":"anonymous","dateUpdated":"2019-05-10T15:56:35+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{"0":{"graph":{"mode":"table","height":84,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"a.account_no\ta.balance\tt1.amount\tt2.amount\tt1.date\nxxx-yyy-202\t200\t900\t850\t2018-10-06"}]},"apps":[],"jobName":"paragraph_1557477138965_-632525522","id":"20190328-161704_390823673","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:56:35+0000","dateFinished":"2019-05-10T15:56:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:752"},{"text":"%md\n## Detect Cycles\nNext we use PGQL to find a series of transfers that start and end at the same account such as A to B to A, or A to B to C to A.","user":"anonymous","dateUpdated":"2019-05-10T10:48:34+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Detect Cycles</h2>\n<p>Next we use PGQL to find a series of transfers that start and end at the same account such as A to B to A, or A to B to C to A.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1557477138966_-631371275","id":"20190329-123841_697678840","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T10:48:34+0000","dateFinished":"2019-05-10T10:48:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:753"},{"text":"// Show any transactions where money is going back and forward in two accounts.\n\ng.queryPgql(\"\"\"\n  SELECT a1.account_no, t1.date, t1.amount, a2.account_no, t2.date, t2.amount\n  MATCH (a1)-[t1:transfer]->(a2)-[t2:transfer]->(a1)\n  WHERE t1.date < t2.date\n\"\"\");\n","user":"anonymous","dateUpdated":"2019-05-10T15:56:38+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{"0":{"graph":{"mode":"table","height":84,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"a1.account_no\tt1.date\tt1.amount\ta2.account_no\tt2.date\tt2.amount\nxxx-yyy-201\t2018-10-05\t200\txxx-yyy-202\t2018-10-10\t300"}]},"apps":[],"jobName":"paragraph_1557477138972_-635218764","id":"20190328-162035_1959457469","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:56:39+0000","dateFinished":"2019-05-10T15:56:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:754"},{"text":"// Show any cyclic transactions in three accounts.\n\ng.queryPgql(\"\"\"\n  SELECT a1.account_no, t1.amount, a2.account_no, t2.amount\n       , a3.account_no, t3.amount\n  MATCH (a1)-[t1:transfer]->(a2)-[t2:transfer]->(a3)-[t3:transfer]->(a1)\n  WHERE t1.date < t2.date\n  AND t2.date < t3.date\n\"\"\");\n","user":"anonymous","dateUpdated":"2019-05-10T15:56:42+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{"0":{"graph":{"mode":"table","height":88,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"a1.account_no\tt1.amount\ta2.account_no\tt2.amount\ta3.account_no\tt3.amount\nxxx-yyy-201\t500\txxx-yyy-203\t450\txxx-yyy-204\t400"}]},"apps":[],"jobName":"paragraph_1557477138972_-635218764","id":"20190328-163004_1966630867","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:56:42+0000","dateFinished":"2019-05-10T15:56:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:755"},{"text":"%md\n## Influential Accounts","dateUpdated":"2019-05-10T08:32:18+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Influential Accounts</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1557477138972_-635218764","id":"20190328-163239_404136926","dateCreated":"2019-05-10T08:32:18+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:756"},{"text":"sg = g.filter(new EdgeFilter(\"edge.label()='transfer'\"));","dateUpdated":"2019-05-10T15:57:01+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1557477138974_-634449267","id":"20190328-163330_1056763914","dateCreated":"2019-05-10T08:32:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:757","user":"anonymous","dateFinished":"2019-05-10T15:57:02+0000","dateStarted":"2019-05-10T15:57:01+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"PgxGraph[name=sub-graph_10,N=6,E=8,created=1557503821801]"}]}},{"text":"analyst.pagerank(graph:sg);","dateUpdated":"2019-05-10T15:57:12+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1557477138975_-634834015","id":"20190328-163457_238150311","dateCreated":"2019-05-10T08:32:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:758","user":"anonymous","dateFinished":"2019-05-10T15:57:13+0000","dateStarted":"2019-05-10T15:57:12+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"VertexProperty[name=pagerank,type=double,graph=sub-graph_10]"}]}},{"text":"sg.queryPgql(\"\"\"\n  SELECT a.account_no, a.pagerank\n  MATCH (a)\n  ORDER BY a.pagerank DESC\n\"\"\");","dateUpdated":"2019-05-10T15:57:49+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{"0":{"graph":{"mode":"table","height":226,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1557477138975_-634834015","id":"20190328-163543_48958968","dateCreated":"2019-05-10T08:32:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:759","user":"anonymous","dateFinished":"2019-05-10T15:57:50+0000","dateStarted":"2019-05-10T15:57:49+0000","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"a.account_no\ta.pagerank\nxxx-yyy-201\t0.18012007557258927\nxxx-yyy-204\t0.1412461615467829\nxxx-yyy-203\t0.1365633635065475\nxxx-yyy-202\t0.12293884324085073\nxxx-zzz-002\t0.05987452026569676\nxxx-zzz-001\t0.025000000000000005"}]}},{"text":"%md\n## Community Detection","dateUpdated":"2019-05-10T08:32:18+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Community Detection</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1557477138975_-634834015","id":"20190328-163825_497501464","dateCreated":"2019-05-10T08:32:18+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:760"},{"text":"sg = g.filter(new EdgeFilter(\"edge.label()='transfer'\"));","user":"anonymous","dateUpdated":"2019-05-10T15:58:04+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"PgxGraph[name=sub-graph_12,N=6,E=8,created=1557503884275]"}]},"apps":[],"jobName":"paragraph_1557477138975_-634834015","id":"20190328-164058_1428502133","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:58:04+0000","dateFinished":"2019-05-10T15:58:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:761"},{"text":"result = analyst.wcc(sg)","user":"anonymous","dateUpdated":"2019-05-10T15:58:07+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true},"settings":{"params":{"index":"","it.size":""},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"ComponentCollection[name=compproxy_13,graph=sub-graph_12]"}]},"apps":[],"jobName":"paragraph_1557477138976_-649069725","id":"20190328-164119_1476039810","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:58:07+0000","dateFinished":"2019-05-10T15:58:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:762"},{"text":"partition = result.getPartitionByVertex(g.getVertex(201));\npartition.each{println it.getId()+\" \"+it.getProperty(\"account_no\")}","user":"anonymous","dateUpdated":"2019-05-10T15:58:19+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"201 xxx-yyy-201\n202 xxx-yyy-202\n203 xxx-yyy-203\n204 xxx-yyy-204\n211 xxx-zzz-001\n212 xxx-zzz-002\nPgxVertex[ID=201]\nPgxVertex[ID=202]\nPgxVertex[ID=203]\nPgxVertex[ID=204]\nPgxVertex[ID=211]\nPgxVertex[ID=212]"}]},"apps":[],"jobName":"paragraph_1557477138976_-649069725","id":"20190328-164130_1125722494","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:58:19+0000","dateFinished":"2019-05-10T15:58:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:763"},{"text":"result = analyst.sccKosaraju(sg)","user":"anonymous","dateUpdated":"2019-05-10T15:58:23+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"ComponentCollection[name=compproxy_14,graph=sub-graph_12]\nComponentCollection[name=compproxy_14,graph=sub-graph_12]\nComponentCollection[name=compproxy_14,graph=sub-graph_12]"}]},"apps":[],"jobName":"paragraph_1557477138976_-649069725","id":"20190328-164236_298791382","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:58:23+0000","dateFinished":"2019-05-10T15:58:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:764"},{"text":"partition = result.getPartitionByVertex(g.getVertex(201));\npartition.each{println it.getId()+\" \"+it.getProperty(\"account_no\")}","user":"anonymous","dateUpdated":"2019-05-10T15:58:29+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"201 xxx-yyy-201\n202 xxx-yyy-202\n203 xxx-yyy-203\n204 xxx-yyy-204\nPgxVertex[ID=201]\nPgxVertex[ID=202]\nPgxVertex[ID=203]\nPgxVertex[ID=204]"}]},"apps":[],"jobName":"paragraph_1557477138976_-649069725","id":"20190328-164629_440403254","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:58:29+0000","dateFinished":"2019-05-10T15:58:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:765"},{"text":"cs = sg.createChangeSet()\nrs = sg.queryPgql(\"SELECT DISTINCT a WHERE (a)-[:transfer]-()\")\nfor (r in rs) {\n  v = r.getVertex(1)\n  i = result.getPartitionIndexOfVertex(v)\n  cs.updateVertex(v.getId()).setProperty(\"component\", i)\n}\nsg = cs.build()","user":"anonymous","dateUpdated":"2019-05-10T15:58:34+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"text","editOnDblClick":false},"editorMode":"ace/mode/text"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"PgxGraph[name=anonymous_graph_16,N=6,E=8,created=1557503914557]"}]},"apps":[],"jobName":"paragraph_1557485378467_-1974905991","id":"20190510-104938_115727887","dateCreated":"2019-05-10T10:49:38+0000","dateStarted":"2019-05-10T15:58:34+0000","dateFinished":"2019-05-10T15:58:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:766"},{"text":"sg.queryPgql(\"\"\"\n  SELECT a.component, COUNT(a.account_no), MAX(a.account_no)\n  MATCH (a)\n  GROUP BY a.component\n  ORDER BY a.component\n\"\"\").print()","user":"anonymous","dateUpdated":"2019-05-10T15:58:38+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":118,"optionOpen":false}}},"editorSetting":{"language":"text","editOnDblClick":false},"editorMode":"ace/mode/text"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"a.component\tCOUNT(a.account_no)\tMAX(a.account_no)\n0\t1\txxx-zzz-001\n1\t4\txxx-yyy-204\n2\t1\txxx-zzz-002"}]},"apps":[],"jobName":"paragraph_1557485376473_1522092086","id":"20190510-104936_553977665","dateCreated":"2019-05-10T10:49:36+0000","dateStarted":"2019-05-10T15:58:38+0000","dateFinished":"2019-05-10T15:58:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:767"},{"text":"%md\n## Recommendation","dateUpdated":"2019-05-10T08:32:18+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Recommendation</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1557477138977_-649454474","id":"20190328-164638_277149599","dateCreated":"2019-05-10T08:32:18+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:768"},{"text":"sg = g.filter(new EdgeFilter(\"edge.label()='purchased'\"))","user":"anonymous","dateUpdated":"2019-05-10T15:59:02+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"PgxGraph[name=sub-graph_18,N=9,E=11,created=1557503942309]"}]},"apps":[],"jobName":"paragraph_1557477138977_-649454474","id":"20190328-164719_412230931","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:59:02+0000","dateFinished":"2019-05-10T15:59:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:769"},{"text":"CS = sg.createChangeSet();\nRS = sg.queryPgql(\"SELECT a, x WHERE (a)-[:purchased]->(x)\")\ni = 1\nfor (r in RS) {\n    a = r.getVertex(1).getId();\n    x = r.getVertex(2).getId();\n    CS.addEdge(x, a).setLabel(\"purchased_by\");\n    i++;\n}\nsg = CS.build()\nsg.queryPgql(\" \\\n  SELECT ID(r), a.account_no, x.name \\\n  MATCH (a)<-[r:purchased_by]-(x) \\\n\")","user":"anonymous","dateUpdated":"2019-05-10T15:59:04+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"ID(r)\ta.account_no\tx.name\n11\txxx-yyy-201\tApple Store\n12\txxx-yyy-201\tPC Paradise\n13\txxx-yyy-202\tApple Store\n14\txxx-yyy-202\tPC Paradise\n15\txxx-yyy-202\tAsia Books\n16\txxx-yyy-203\tApple Store\n17\txxx-yyy-203\tPC Paradise\n18\txxx-yyy-203\tKindle Store\n19\txxx-yyy-204\tKindle Store\n20\txxx-yyy-204\tAsia Books\n21\txxx-yyy-204\tABC Travel"}]},"apps":[],"jobName":"paragraph_1557477138977_-649454474","id":"20190328-164743_692256517","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:59:04+0000","dateFinished":"2019-05-10T15:59:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:770"},{"text":"vertexSet = sg.createVertexSet();\nvertexSet.addAll(201);\nppr = analyst.personalizedPagerank(sg, vertexSet);","user":"anonymous","dateUpdated":"2019-05-10T15:59:18+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"VertexProperty[name=pagerank,type=double,graph=anonymous_graph_20]"}]},"apps":[],"jobName":"paragraph_1557477138978_-648300227","id":"20190328-164812_1574533639","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:59:18+0000","dateFinished":"2019-05-10T15:59:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:771"},{"text":"sg.queryPgql(\"\"\"\n  SELECT ID(x), x.name, x.pagerank\n  MATCH (x)\n  WHERE x.type = 'merchant'\n    AND NOT EXISTS (\n      SELECT *\n      MATCH (x)-[:purchased_by]->(a)\n      WHERE ID(a) = 201\n    )\n  ORDER BY x.pagerank DESC\n\"\"\").print()","user":"anonymous","dateUpdated":"2019-05-10T15:59:36+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{"0":{"graph":{"mode":"table","height":184,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"ID(x)\tx.name\tx.pagerank\n303\tKindle Store\t0.04932640133302745\n304\tAsia Books\t0.04932640133302745\n305\tABC Travel\t0.01565535511504672"}]},"apps":[],"jobName":"paragraph_1557477138978_-648300227","id":"20190328-164916_532250489","dateCreated":"2019-05-10T08:32:18+0000","dateStarted":"2019-05-10T15:59:36+0000","dateFinished":"2019-05-10T15:59:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:772"},{"dateUpdated":"2019-05-10T08:32:18+0000","config":{"tableHide":false,"editorSetting":{"language":"text","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/text","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1557477138978_-648300227","id":"20190329-120236_1442605843","dateCreated":"2019-05-10T08:32:18+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:773"}],"name":"Customer 360","id":"2EAPKRRN9","angularObjects":{"2D7ABH6XS:shared_process":[],"2D6PFK251:shared_process":[],"2D8Y4D5ZH::2EAPKRRN9":[],"2D9GG3M92:shared_process":[],"2D7JZ5J48:shared_process":[],"2D94XE3HE:shared_process":[],"2D7TXHTTW:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}